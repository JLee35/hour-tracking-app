<script>
    // Contains event listeners and helper functions for Specific Info Page.
    
    $("#addSpecificItem").click(function () {
        var element = document.createElement("tr");
        var td1 = document.createElement("td");
        td1.innerText = "HI";
        var td2 = document.createElement("td");
        td2.innerText = "HI";
        var td3 = document.createElement("td");
        td3.innerText = "HI";
        var td4 = document.createElement("td");
        td4.innerText = "HI";
        var td5 = document.createElement("td");
        td5.innerText = "HI";
        var td6 = document.createElement("td");
        td6.innerText = "HI";
        var td7 = document.createElement("td");
        td7.innerText = "HI";
        var td8 = document.createElement("td");
        td8.innerText = "HI";
        var td9 = document.createElement("td");
        td9.innerText = "HI";

        element.appendChild(td9);
        element.appendChild(td8);
        element.appendChild(td7);
        element.appendChild(td6);
        element.appendChild(td5);
        element.appendChild(td4);
        element.appendChild(td3);
        element.appendChild(td2);
        element.appendChild(td1);

        $(element).insertBefore($("#generalTableHeaderContent"));
    });


    // Attach 'Add item' listener to add item modal.
    $("#submitNewItem").click(function () {
        // Create a new swim lane item with the given phase code and 
        // hours logged.
        addItem();
        $("#addSpecificItemModal").modal('toggle');
    });

    // Sum up all hour totals when an item is added or removed.
    function sumTotalHours(lane) {
        // Get lane item hours.
        var hourEntries = lane.find("p.swim-lane-item-hours");
        var totalHours = 0;

        // Sum all lane item hours.
        for (x=0; x < hourEntries.length; x++) {
            totalHours += parseFloat(hourEntries[x].innerText);
        }

        // Set update lane total.
        if (totalHours != "NaN") {
            lane.find("div.swim-lane-item-total")[0].innerText = "Total: " + totalHours;
        }
    }

    // Event listener that ensures user only adds valid item to swim lane.
    // If input is invalid the Add item button is disabled.
    $("#phaseCodeInput").change(function () {
        updateAddItemModalButtonDisabled();
    });

    // Moves on to the supervisor review page
    $("#workerAcceptHoursBtn").click(function() {
        $("#specificInfoPage").css('display', 'none');
        $("#supervisorReviewPage").css('display', 'block');
        
        $("#progressBar3").removeClass("bg-warning");
        $("#progressBar3").addClass("bg-success");
        $("#progressBar4").removeClass("bg-danger");
        $("#progressBar4").addClass("bg-warning");

        $("#progressBar3").removeClass("progress-highlight");
        $("#progressBar4").addClass("progress-highlight");

        currentPage = "supervisorReview";

        // Update review page with employee input.
        populateReviewPage();     

        return;
    });

    // Returns to general info page
    $("#specificInfoBackBtn").click(function() {

        $("#specificInfoPage").css('display', 'none');
        $("#generalInfoPage").css('display', 'block');

        $("#progressBar3").removeClass("progress-highlight");
        $("#progressBar2").addClass("progress-highlight");
        currentPage = "generalInfoPage";       

        return;
    });


    // Global Variables

    // currentLaneAddItemButton keeps track of which swim lane element is
    // adding an item.
    var currentLaneAddItemButton;
    var currentSwimLane;

</script>